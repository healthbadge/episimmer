import csv
import random


def write_interactions(filename,no_agents,num_rings):
	agent_set=set()

	if no_agents%num_rings!=0:
		raise ValueError('Number of agents is not divisible by number of rings')
	num_ring_agents = no_agents//num_rings

	for ring in range(num_rings):
		for agent_index in range(num_ring_agents):
			agent_set.add((agent_index + ring*num_ring_agents, (agent_index+1)%num_ring_agents+ ring*num_ring_agents))
			agent_set.add(((agent_index+1)%num_ring_agents+ ring*num_ring_agents, agent_index + ring*num_ring_agents))

		agent_set.add((ring*num_ring_agents,((ring+1)*num_ring_agents)%no_agents))
		agent_set.add((((ring+1)*num_ring_agents)%no_agents, ring*num_ring_agents))

	with open(filename, 'w', newline='') as file:
		fieldnames = ['Agent Index','Interacting Agent Index']
		writer = csv.DictWriter(file, fieldnames=fieldnames)
		writer.writeheader()
		for x,y in agent_set:
			writer.writerow({'Agent Index':x,'Interacting Agent Index':y})




write_interactions('interactions_list.csv', 30, 3)
